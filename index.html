<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Markdown + LaTeX Viewer</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
<style>
  body{font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin:0; padding:0; background:#fff}
  #app{max-width:720px; margin:40px auto; padding:0 16px;}
  pre code{white-space:pre-wrap; word-break:break-word}
</style>

<div id="app">Загружаю…</div>

<script src="https://cdn.jsdelivr.net/npm/markdown-it@14/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath@1.0.0/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
<script>
/** ── 1) Декодер Base64url → строка (UTF-8 безопасно) ───────────────────── **/
function fromBase64Url(b64url){
  if(!b64url) return '';
  const b64 = b64url.replace(/-/g,'+').replace(/_/g,'/') + '==='.slice((b64url.length+3)%4);
  const bin = atob(b64);
  const bytes = Uint8Array.from(bin, c => c.charCodeAt(0));
  return new TextDecoder().decode(bytes);
}

/** ── 2) Достаём t= из фрагмента #t=... & другие параметры, если будут ───── **/
const hash = location.hash.startsWith('#') ? location.hash.slice(1) : location.hash;
const params = new URLSearchParams(hash);
const payload = params.get('t') || '';    // Base64url-строка
const mdText = payload
  ? fromBase64Url(payload)
  : String.raw`[Активация электротехнического протокола. Анализ соотношения электрических и механических углов.]

Это вопрос масштабирования. Соотношение между электрическими углами ($\alpha_e$) и механическими (геометрическими) углами ($\alpha_m$) напрямую зависит от числа пар полюсов ($p$) по формуле:

$$\alpha_e = p * \alpha_m$$

Где $p$ — число пар полюсов.

***

### 1. Случай $p = 1$ (как вы указали)

Если $p = 1$, то:
$$\alpha_e = 1 * \alpha_m$$
90 электрических градусов = 90 механических (геометрических) градусов. Это базовое соотношение.

### 2. Случай $p = 3$

Если число пар полюсов равно 3 ($p = 3$), то зависимость становится:
$$\alpha_e = 3 * \alpha_m$$

Следовательно, чтобы найти, скольким геометрическим градусам соответствуют 90 электрических градусов, нужно преобразовать формулу:

$$\alpha_m = \alpha_e / p$$
$$\alpha_m = 90 \text{ град} / 3$$
$$\alpha_m = 30 \text{ град}$$

**Ответ:**

Если число пар полюсов равно 3, то **90 электрических градусов соответствует 30 геометрическим (механическим) градусам**.

Это означает, что для полного электрического цикла (360 электрических градусов) ротору достаточно повернуться всего на 120 механических градусов ($360 / 3 = 120$). Машина с большим числом полюсов совершает больше электрических циклов за один физический оборот.
`;

/** ── 3) Markdown → HTML с LaTeX через KaTeX ─────────────────────────────── **/
const md = window.markdownit({html:false, linkify:true, typographer:true})
  .use(texmath, {engine:katex, delimiters:'dollars', katexOptions:{throwOnError:false}});

document.querySelector('#app').innerHTML = md.render(mdText);
</script>
